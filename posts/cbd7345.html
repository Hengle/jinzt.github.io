<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>termux 使用 | 金振涛个人主页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="tool">
    <meta name="description" content="&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD 教程 termux从入门到入坑 - 简书 Termux 高级终端安装使用配置教程   介绍termux主页 https://wiki.termux.com/, wiki        003db07dd9917b6b057ef115f35233aea23157b0        下载安装 Google Play  基本命令Term">
<meta name="keywords" content="tool">
<meta property="og:type" content="article">
<meta property="og:title" content="termux 使用">
<meta property="og:url" content="https://jinzt.github.io/posts/cbd7345.html">
<meta property="og:site_name" content="金振涛个人主页">
<meta property="og:description" content="&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD 教程 termux从入门到入坑 - 简书 Termux 高级终端安装使用配置教程   介绍termux主页 https://wiki.termux.com/, wiki        003db07dd9917b6b057ef115f35233aea23157b0        下载安装 Google Play  基本命令Term">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-04-12T08:51:01.887Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="termux 使用">
<meta name="twitter:description" content="&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD 教程 termux从入门到入坑 - 简书 Termux 高级终端安装使用配置教程   介绍termux主页 https://wiki.termux.com/, wiki        003db07dd9917b6b057ef115f35233aea23157b0        下载安装 Google Play  基本命令Term">
    
        <link rel="alternate" type="application/atom+xml" title="金振涛个人主页" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">金振涛</h5>
          <a href="mailto:jinzhentaohb@126.com" title="jinzhentaohb@126.com" class="mail">jinzhentaohb@126.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/jinzt" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/u/5838016173" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                link
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">termux 使用</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">termux 使用</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-07-12T14:53:08.198Z" itemprop="datePublished" class="page-time">
  2019-07-12
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/tool/">tool</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#教程"><span class="post-toc-number">1.</span> <span class="post-toc-text">教程</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number"></span> <span class="post-toc-text"></span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#介绍"><span class="post-toc-number">1.</span> <span class="post-toc-text">介绍</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#下载安装"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">下载安装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本命令"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">基本命令</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#目录环境结构"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">目录环境结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装vim"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">安装vim</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#更换国内源"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">更换国内源</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#绑定端口"><span class="post-toc-number"></span> <span class="post-toc-text">绑定端口</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#通过自定义域名访问部署于内网的-web-服务"><span class="post-toc-number"></span> <span class="post-toc-text">通过自定义域名访问部署于内网的 web 服务</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ssh"><span class="post-toc-number">0.1.</span> <span class="post-toc-text">ssh</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ftp"><span class="post-toc-number">1.</span> <span class="post-toc-text">ftp</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考教程"><span class="post-toc-number">2.</span> <span class="post-toc-text">参考教程</span></a></li></ol>
        </nav>
    </aside>


<article id="post-tool/Termux"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">termux 使用</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-07-12 22:53:08" datetime="2019-07-12T14:53:08.198Z"  itemprop="datePublished">2019-07-12</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/tool/">tool</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<h2 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h2><ul>
<li><a href="https://www.jianshu.com/p/f41bc63d4246" target="_blank" rel="noopener">termux从入门到入坑 - 简书</a></li>
<li><a href="https://www.sqlsec.com/2018/05/termux.html" target="_blank" rel="noopener">Termux 高级终端安装使用配置教程</a></li>
<li><h1 id><a href="#" class="headerlink" title></a><a href="https://baijiahao.baidu.com/s?id=1607384881189668585&wfr=spider&for=pc" target="_blank" rel="noopener"></a></h1></li>
</ul>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>termux主页 <a href="https://wiki.termux.com/" target="_blank" rel="noopener">https://wiki.termux.com/</a>, <a href="https://wiki.termux.com/wiki" target="_blank" rel="noopener">wiki</a></p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>003db07dd9917b6b057ef115f35233aea23157b0</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h3 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h3><ul>
<li><a href="https://play.google.com/store/apps/details?id=com.termux" target="_blank" rel="noopener">Google Play</a></li>
</ul>
<h3 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h3><p>Termux除了支持apt命令外,还在此基础上封装了pkg命令,pkg命令向下兼容apt命令.apt命令大家应该都比较熟悉了,这里直接简单的介绍下pkg命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pkg search &lt;query&gt;              搜索包</span><br><span class="line">pkg install &lt;package&gt;           安装包</span><br><span class="line">pkg uninstall &lt;package&gt;         卸载包</span><br><span class="line">pkg reinstall &lt;package&gt;         重新安装包</span><br><span class="line">pkg update                      更新源</span><br><span class="line">pkg upgrade                     升级软件包</span><br><span class="line">pkg list-all                    列出可供安装的所有包</span><br><span class="line">pkg list-installed              列出已经安装的包</span><br><span class="line">pkg shoe &lt;package&gt;              显示某个包的详细信息</span><br><span class="line">pkg files &lt;package&gt;             显示某个包的相关文件夹路径</span><br></pre></td></tr></table></figure>

<h3 id="目录环境结构"><a href="#目录环境结构" class="headerlink" title="目录环境结构"></a>目录环境结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~ &gt; echo $HOME</span><br><span class="line">/data/data/com.termux/files/home</span><br><span class="line"></span><br><span class="line"> ~ &gt; echo $PREFIX</span><br><span class="line">/data/data/com.termux/files/usr</span><br><span class="line"></span><br><span class="line"> ~ &gt; echo $TMPPREFIX</span><br><span class="line">/data/data/com.termux/files/usr/tmp/zsh</span><br></pre></td></tr></table></figure>

<p>长期使用Linux的朋友可能会发现，这个HOME路径看上去可能不太一样,为了方便,Termux 提供了一个特殊的环境变量:PREFIX</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<p>=======</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>003db07dd9917b6b057ef115f35233aea23157b0</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h3 id="安装vim"><a href="#安装vim" class="headerlink" title="安装vim"></a>安装vim</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install vim</span><br></pre></td></tr></table></figure>

<p>设置默认编辑器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export EDITOR=vim</span><br></pre></td></tr></table></figure>

<h3 id="更换国内源"><a href="#更换国内源" class="headerlink" title="更换国内源"></a>更换国内源</h3><p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>更换Termux清华大学源,加快软件包下载速度</p>
<p>编辑源文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim  $PREFIX/etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>将原来的<a href="https://termux.net官方源替换为http://mirrors.tuna.tsinghua.edu.cn/termux" target="_blank" rel="noopener">https://termux.net官方源替换为http://mirrors.tuna.tsinghua.edu.cn/termux</a>  保存并退出</p>
<p>更新源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pkg update</span><br><span class="line">=======</span><br><span class="line">更换Termux清华大学源,加快软件包下载速度 参考[Termux 镜像使用帮助](https://mirror.tuna.tsinghua.edu.cn/help/termux/)</span><br></pre></td></tr></table></figure>

<p>sed -i ‘s@^(deb.*stable main)$@#\1\ndeb <a href="https://mirrors.tuna.tsinghua.edu.cn/termux" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/termux</a> stable main@’ $PREFIX/etc/apt/sources.list</p>
<p>apt update &amp;&amp; apt upgrade</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>003db07dd9917b6b057ef115f35233aea23157b0</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 安装基本工具</span><br></pre></td></tr></table></figure>

<p>pkg install curl wget git unzip unrar </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 管理员身份</span><br><span class="line">利用proot工具来模拟某些需要root的环境</span><br></pre></td></tr></table></figure>

<p>pkg install proot</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">然后终端下面输入:</span><br></pre></td></tr></table></figure>

<p>termux-chroot</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">即可模拟root环境</span><br><span class="line">在这个proot环境下面,相当于是进入了home目录,可以很方便地进行一些配置.</span><br><span class="line"></span><br><span class="line">在管理员身份下，输入exit可回到普通用户身份。</span><br><span class="line"></span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">=======</span><br><span class="line"></span><br><span class="line">## 申请读写权限 之后会在home目录下有storage 连接**</span><br></pre></td></tr></table></figure>

<p>termux-setup-storage<br>ls storage</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### ssh</span><br><span class="line">**安装openssh**</span><br></pre></td></tr></table></figure>

<p>apt update<br>apt install openssh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**启动ssh**</span><br></pre></td></tr></table></figure>

<p>sshd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**连接ssh服务器**</span><br><span class="line"></span><br><span class="line">termux是单用户，可以采用密钥方式，但比较繁琐，这里采用账号密码登录方式。</span><br><span class="line"></span><br><span class="line">先设置密码(默认是没密码的)</span><br></pre></td></tr></table></figure>

<p>passwd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">查看用户名</span><br></pre></td></tr></table></figure>

<p>whoami</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">查看ip</span><br></pre></td></tr></table></figure>

<p>ifconfig -a</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">连接 默认端口8022，u0_a258</span><br></pre></td></tr></table></figure>

<p>ssh <a href="mailto:u0_a258@192.168.1.101" target="_blank" rel="noopener">u0_a258@192.168.1.101</a> -p 8022</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**安装ftp**</span><br></pre></td></tr></table></figure>

<p>pkg install pure-ftpd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">可以在PC上的Filezella客户端上配置新站点，选择协议:SFTP，连接方式：询问密码，端口8022，连接输入正确的用户名和密码，就可以访问模拟器文件夹了。具备删写功能。如果你输入连接sd卡的目录，形如/sdcard或者/storage/emulated/0，且在手机权限管理赋予Termux读写存储权限的话，就可以远程管理手机存储，同样具备删写功能。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 003db07dd9917b6b057ef115f35233aea23157b0</span><br><span class="line">### 安装c++开发环境</span><br></pre></td></tr></table></figure>

<p>pkg install clang gdb cgdb cmake</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 安装python27</span><br></pre></td></tr></table></figure>

<p>pkg install python2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">安装 vim-python</span><br></pre></td></tr></table></figure>

<p>pkg install vim-python</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### golang</span><br></pre></td></tr></table></figure>

<p>pkg install golang<br>pkg install vim-golang</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### nodejs</span><br></pre></td></tr></table></figure>

<p>pkg install nodejs<br>node -v<br>npm -v</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### MariaDB(MySQL)安装</span><br></pre></td></tr></table></figure>

<p>pkg install mariadb<br>mysql_install_db   // 初始化mysql<br>mysqld  // 启动mysql服务</p>
<p>mysql // 新开一个窗口 连接mysql<br>提示1045 2800 </p>
<p>我们改下配置 调过过密码认证 在[mysqld]后面任意一行添加“skip-grant-tables”用来跳过密码验证的过程<br>vim /data/data/com.termux/files/usr/etc/my.cnf<br>[mysqld]<br>explicit_defaults_for_timestamp=true<br>skip-grant-tables</p>
<p>重启msyql</p>
<p>在使用 mysql 连接就成功了</p>
<p>接下来就是用sql来修改root的密码</p>
<p>mysql&gt; use mysql;<br>mysql&gt; select * from user;    // 用户表里面是空的<br>mysql&gt; flush privileges;<br>mysql&gt; grant all privileges on <em>.</em> to ‘root’@’%’ identified by ‘123456’ with grant option; // 修改用户root 给予全部权限<br>mysql&gt; grant all privileges on <em>.</em> to ‘jzt’@’%’ identified by ‘123456’with grant option; // 创建用户root 给予全部权限<br>mysql&gt; flush privileges;<br>mysql&gt; quit;</p>
<p>编辑my.cnf,去掉刚才添加的内容，然后重启MySQL</p>
<p>mysql -uroot -p  // 使用密码登录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 免root安装Centos</span><br><span class="line">$ pkg install proot</span><br><span class="line">$ termux-chroot</span><br><span class="line"></span><br><span class="line">安装centos</span><br><span class="line"></span><br><span class="line">复制以下内容到termux执行</span><br></pre></td></tr></table></figure>

<p>pkg install wget openssl-tool proot tar -y &amp;&amp; hash -r &amp;&amp; wget <a href="https://raw.githubusercontent.com/EXALAB/AnLinux-Resources/master/Scripts/Installer/CentOS/centos.sh" target="_blank" rel="noopener">https://raw.githubusercontent.com/EXALAB/AnLinux-Resources/master/Scripts/Installer/CentOS/centos.sh</a> &amp;&amp; bash centos.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">启动centos</span><br><span class="line">./start-centos.sh</span><br><span class="line">退出centos</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line">### nginx</span><br><span class="line">pkg install nginx</span><br><span class="line">/data/data/com.termux/files/usr/share/nginx/html/index.html</span><br><span class="line"></span><br><span class="line">启动nginx</span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line">停止nginx</span><br><span class="line">fuser -k 8080/tcp </span><br><span class="line">重启nginx服务 </span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line">127.0.0.1:8080</span><br><span class="line"></span><br><span class="line">### ssh</span><br><span class="line">pkg install openssh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 内网穿透</span><br><span class="line">- [fatedier/frp](https://github.com/fatedier/frp)</span><br><span class="line">- [https://www.natfrp.org/#](https://www.natfrp.org/#)</span><br><span class="line">- https://blog.csdn.net/qq_16093323/article/details/82182027</span><br><span class="line"></span><br><span class="line">https://github.com/cloudswave/termux-script/tree/master/frpc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### frp + termux内网 建站</span><br><span class="line"></span><br><span class="line">域名 xinlingbodong.top</span><br><span class="line">机器ssh ip:144.34.170.63 port:10339  passwd:bat123456 encrypt:aes-256-cfb </span><br><span class="line"></span><br><span class="line">1.将域名 www.xinlingbodong.top 映射到机器 144.34.170.63</span><br><span class="line">在主机上安装nginx</span><br><span class="line">http://144.34.170.63/</span><br><span class="line">http://www.xinlingbodong.top/</span><br><span class="line"></span><br><span class="line">apt-get install wget</span><br><span class="line"></span><br><span class="line">frp下载地址 https://github.com/fatedier/frp/releases</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.27.0/frp_0.27.0_linux_amd.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf frp_0.27.0_linux_amd.tar.gz</span><br><span class="line">cd frp_0.27.0_linux_amd</span><br><span class="line">=======</span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.29.1/frp_0.29.1_linux_arm64.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf frp_0.29.1_linux_arm64.tar.gz</span><br><span class="line">mv frp_0.29.1_linux_arm64 frp</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 003db07dd9917b6b057ef115f35233aea23157b0</span><br><span class="line"></span><br><span class="line">vim frps.ini</span><br><span class="line"></span><br><span class="line">iptables -I INPUT -p tcp --dport 7000 -j ACCEPT</span><br><span class="line">iptables-save</span><br></pre></td></tr></table></figure>

<p>[common]</p>
<h1 id="绑定端口"><a href="#绑定端口" class="headerlink" title="绑定端口"></a>绑定端口</h1><p>bind_port = 7000</p>
<h1 id="通过自定义域名访问部署于内网的-web-服务"><a href="#通过自定义域名访问部署于内网的-web-服务" class="headerlink" title="通过自定义域名访问部署于内网的 web 服务"></a>通过自定义域名访问部署于内网的 web 服务</h1><p>vhost_http_port = 8080  </p>
<p># </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"># frpc.ini</span><br><span class="line">[common]</span><br><span class="line">server_addr = x.x.x.x</span><br><span class="line">server_port = 7000</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_port = 80</span><br><span class="line">custom_domains = www.yourdomain.com</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 6000</span><br></pre></td></tr></table></figure>

<p>通过 ssh 访问内网机器，假设用户名为 test：<br>ssh -oPort=6000 <a href="mailto:test@x.x.x.x" target="_blank" rel="noopener">test@x.x.x.x</a></p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>
<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p>安装Termux<br>Termux官网：<a href="https://termux.com/" target="_blank" rel="noopener">https://termux.com/</a><br>安装openssh<br>安装好Termux后，点击图标进入，依次输入以下命令。</p>
<p>申请读写权限 之后会在home目录下有storage 连接<br>termux-setup-storage</p>
<p>安装openssh<br>apt update<br>apt install openssh</p>
<p>启动sshd服务</p>
<p>sshd<br>至此，手机端已经安装好openssh，并已启动服务。</p>
<p>配置登录密钥<br>如果你的电脑生成过密钥，可以跳过这步。如果没有，在电脑依次执行以下命令。</p>
<p>ssh-keygen<br>然后进入电脑.ssh目录，将id_rsa.pub文件拷贝到手机的/sdcard/downloads目录下。</p>
<p>确保id_rsa.pub存在于/sdcard/目录下，进入手机Termux。依次输入以下命令。<br>cp /storage/downloads/id_rsa.pub ./<br>cat id_rsa.pub &gt;&gt; ~/.sshauthorized_keys<br>cat ~/.sshauthorized_keys   查看结果<br>sshd  在启动<br>至此，已添加公钥信息到手机。<br>手机查看当前用户名。<br>whoami<br>手机查看当前ip<br>ifconfig -a<br>电脑ssh到手机<br>假设手机使用whoami查看的用户名是u0_a198，手机的ip地址是192.168.1.101</p>
<p>则电脑ssh到手机</p>
<p>ssh <a href="mailto:u0_a198@192.168.1.101" target="_blank" rel="noopener">u0_a198@192.168.1.101</a> -p 8022</p>
<p>=======</p>
<h2 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h2><p>ssh </p>
<h2 id="参考教程"><a href="#参考教程" class="headerlink" title="参考教程"></a>参考教程</h2><ul>
<li><a href="https://www.jianshu.com/p/f41bc63d4246" target="_blank" rel="noopener">termux从入门到入坑 - 简书</a></li>
<li><a href="https://www.sqlsec.com/2018/05/termux.html" target="_blank" rel="noopener">Termux 高级终端安装使用配置教程</a></li>
<li><a href="https://baijiahao.baidu.com/s?id=1607384881189668585&wfr=spider&for=pc" target="_blank" rel="noopener">安卓手机免root安装各种Linux系统：Ubuntu, Centos,Kali等</a><blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>003db07dd9917b6b057ef115f35233aea23157b0</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-04-12T08:51:01.887Z" itemprop="dateUpdated">2020-04-12 16:51:01</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/posts/cbd7345.html" target="_blank" rel="external">https://jinzt.github.io/posts/cbd7345.html</a>
        
    </div>
    
    <footer>
        <a href="https://jinzt.github.io">
            <img src="/img/avatar.jpg" alt="金振涛">
            金振涛
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/">tool</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jinzt.github.io/posts/cbd7345.html&title=《termux 使用》 — 金振涛个人主页&pic=https://jinzt.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jinzt.github.io/posts/cbd7345.html&title=《termux 使用》 — 金振涛个人主页&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jinzt.github.io/posts/cbd7345.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《termux 使用》 — 金振涛个人主页&url=https://jinzt.github.io/posts/cbd7345.html&via=https://jinzt.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jinzt.github.io/posts/cbd7345.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/posts/e6ca16c8.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">vagrant 使用</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/posts/d2757ff6.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">startuml 使用</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "PDQy3GUbNJ9CEqhuP8G0kDvc-gzGzoHsz",
            appKey: "yaOTf2Bsv3ecv889uVD4wlAj",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>金振涛 &copy; 2015 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jinzt.github.io/posts/cbd7345.html&title=《termux 使用》 — 金振涛个人主页&pic=https://jinzt.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jinzt.github.io/posts/cbd7345.html&title=《termux 使用》 — 金振涛个人主页&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jinzt.github.io/posts/cbd7345.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《termux 使用》 — 金振涛个人主页&url=https://jinzt.github.io/posts/cbd7345.html&via=https://jinzt.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jinzt.github.io/posts/cbd7345.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABw0lEQVR42u3aQW7DMAwEwPz/0+65KKIsSVkxitHJCBx7ksNCJPV6xev6s/LP18983bFwcXHH3Gu51q9/d/9f0Ltn5gZcXNzz3HXQrO9Zx1b+d0Rhh4uL+2DuOpLyXQouLu5/5VajrRqUuLi43+JOtiDV8EraKxtqNVxc3AE371Led31LfxcXF7fFvYqrOlZJ2qmFt+Pi4h7hzhsZeRj1vouLi/sEbjIKncRZwi0MWXFxcW/g7oqn3iGM0Y4MFxf3IDcaZoybrXkg/rrGxcU9wu2NMXpNzzJrXfzg4uIe4fYiZldVMqrVcHFxb+BWj1vNy568hfoBjYuLewM3f02V3gumD9GJi4t7hBsNNfOypDhYrR7RwMXFPc/NgykvmXYd1Cj8E7i4uJu4+SamF3a7hrK4uLjf4uYHqvKflA9io+IHFxf3S9z84EXSZu2NY8s7IFxc3E3cq7iSR+ft1MIwFRcX9yC3dyQiL2PyYqn6XVxc3Lu5eXEyicLqSLW50cHFxd3KnZcuvTbrqFbDxcV9GHfeDM0jDxcX9/ncvJE6ueft/bi4uAe524agrc1Nsj3CxcU9ya1GyZrSa4g0WyS4uLj7uT/jMQEv292h6QAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
